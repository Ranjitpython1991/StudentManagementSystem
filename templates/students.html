{% extends "base.html" %}
{% block content %}
<h2>Students</h2>

{% if students %}
<ul>
    {% for student in students %}
    <li>
        {{ student.name }} (ID: {{ student.student_id }}, Grade: {{ student.grade }})
        {% if student.courses %}
            <ul>
                {% for course in student.courses %}
                <li>{{ course.course_name }} (ID: {{ course.course_id }})</li>
                {% endfor %}
            </ul>
        {% else %}
            <em>No courses enrolled</em>
        {% endif %}
    </li>
    {% endfor %}
</ul>
{% else %}
<p><strong>No students added yet.</strong></p>
{% endif %}

<h3>Add Student</h3>
<form method="post" action="/add_student">
    ID: <input type="text" name="student_id"><br>
    Name: <input type="text" name="name"><br>
    Age: <input type="number" name="age"><br>
    Grade: <input type="text" name="grade"><br>
    <button type="submit">Add</button>
</form>
{% endblock %}
